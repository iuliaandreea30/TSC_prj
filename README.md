## TSC Project - E-book-Reader

## Diagram
![image](https://github.com/user-attachments/assets/fa522e8e-549b-4be4-9a1b-7f61022e6712)

## BOM (Bill Of Materials)

| Component  | Supplier Link | Datasheet |
|------------|---------------|-----------|
| 112A-TAAR-R03 | [Model](https://store.comet.srl.ro/Catalogue/Product/43497/) | [Datasheet](https://www.snapeda.com/parts/112A-TAAR-R03/Attend/datasheet/) |
| 744043680 | [Model](https://ro.mouser.com/ProductDetail/Wurth-Elektronik/744043680?qs=PGXP4M47uW6VkZq%252BkzjrHA%3D%3D) | [Datasheet](https://www.we-online.com/components/products/datasheet/744043680.pdf) |
| BD5229G-TR | [Model](https://componentsearchengine.com/part-view/BD5229G-TR/ROHM%20Semiconductor) | [Datasheet](https://fscdn.rohm.com/en/products/databook/datasheet/ic/power/voltage_detector/bd52xxg-e.pdf) |
| Capacitor 0402 | [Model](https://ro.mouser.com/c/passive-components/capacitors/ceramic-capacitors/?q=CC0402&srsltid=AfmBOoogjqwwed3xvp6V5-bfVkRuawirfMcnAC47L-UQdC3mnXJk097M) | [Datasheet](https://componentsearchengine.com/Datasheets/2/CC0402MRX5R5BB106.pdf) |
| CPH3225A | [Model](https://www.snapeda.com/parts/CPH3225A/Seiko+Instruments/view-part/?ref=snap) | [Datasheet](https://www.snapeda.com/parts/CPH3225A/Seiko%20Instruments/datasheet/) |
| Custom Button | [Model](https://industry.panasonic.com/global/en/products/control/switch/light-touch/number/evqpuj02k) | [Datasheet](https://industry.panasonic.com/global/en/downloads?tab=catalog&small_g_cd=203&part_no=EVQPUJ02K) |
| DS3231SN | [Model](https://www.snapeda.com/parts/DS3231SN%23/Analog+Devices/view-part/?ref=eda) | [Datasheet](https://www.snapeda.com/parts/DS3231SN%23/Analog%20Devices/datasheet/) |
| ESP32 WROVER 0805 Capacitor | [Model]() | [Datasheet]() |
| ESP32 WROVER BME680 Sensor | [Model](https://www.snapeda.com/parts/BME680/Bosch/view-part/?welcome=home) | [Datasheet](https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bme680-ds001.pdf) |
| ESP32 WROVER MCP73831 Power Management | [Model](https://www.snapeda.com/parts/BME680/Bosch/view-part/?welcome=home) | [Datasheet](https://www.snapeda.com/parts/MCP73831T-2ACI/OT/Microchip/datasheet/) |
| ESP32C6 Varistor 1812 | [Model]() | [Datasheet]() |
| ESP32C6 WROOM-1-N8| [Model](https://www.snapeda.com/parts/ESP32-C6-WROOM-1-N8/Espressif+Systems/view-part/?ref=eda) | [Datasheet](https://www.snapeda.com/parts/ESP32-C6-WROOM-1-N8/Espressif%20Systems/datasheet/) |
| FH34SRJ-24S-0.5SH | [Model](https://ro.mouser.com/ProductDetail/Hirose-Connector/FH34SRJ-24S-0.5SH99?qs=vcbW%252B4%252BSTIpKBl5ap9J8Fw%3D%3D) | [Datasheet](https://www.snapeda.com/parts/FH34SRJ-24S-0.5SH(99)/Hirose%20Connector/datasheet/) |
| LED Chip 0603 | [Model](https://www.snapeda.com/parts/KP-1608SURCK/Kingbright/view-part/?ref=search&t=LED%200603) | [Datasheet](https://www.snapeda.com/parts/KP-1608SURCK/Kingbright/datasheet/) |
| MAX17048G+T10 | [Model](https://www.snapeda.com/parts/MAX17048G+T10/Analog+Devices/view-part/?ref=eda) | [Datasheet](https://www.snapeda.com/parts/MAX17048G+T10/Analog%20Devices/datasheet/) |
| MBR0530 Schottky Diode | [Model](https://www.snapeda.com/parts/MBR0530/Onsemi/view-part/?ref=snap) | [Datasheet](https://www.snapeda.com/parts/MBR0530/ON%20Semiconductor/datasheet/) |
| PGB1010603MR | [Model](https://www.snapeda.com/parts/PGB1010603MR/Littelfuse/view-part/?ref=eda) | [Datasheet](https://www.snapeda.com/parts/PGB1010603MR/Littelfuse%20Inc./datasheet/) |
| QWIIC Connector | [Model](https://www.snapeda.com/parts/PRT-14417/SparkFun/view-part/) | [Datasheet](https://www.snapeda.com/parts/PRT-14417/SparkFun%20Electronics/datasheet/) |
| RCL CPOL 3528 | [Model](https://www.snapeda.com/parts/CPH3225A/Seiko+Instruments/view-part/?ref=eda) | [Datasheet](https://s3.amazonaws.com/snapeda/datasheet/TAJB475K025RNJ_AVX.pdf) |
| Resistor 0402 | [Model](https://grabcad.com/library/resistor-0402-1) | [Datasheet](https://www.yageo.com/upload/media/product/products/datasheet/rchip/PYu-RC_Group_51_RoHS_L_12.pdf) |
| SI1308EDL-T1-GE3 MOSFET | [Model](https://www.snapeda.com/parts/SI1308EDL-T1-GE3/Vishay+Siliconix/view-part/?welcome=home&ref=eda) | [Datasheet](https://www.snapeda.com/parts/SI1308EDL-T1-GE3/Vishay%20Siliconix/datasheet/) |
| SJ | [Model](https://grabcad.com/library/solder-jumpers-1) | [Datasheet]() |
| USB4110-GF-A | [Model](https://componentsearchengine.com/part-view/USB4110-GF-A/GCT%20(GLOBAL%20CONNECTOR%20TECHNOLOGY)) | [Datasheet](https://gct.co/files/drawings/usb4110.pdf) |
| USBLC6-2SC6Y | [Model](https://www.snapeda.com/parts/USBLC6-2SC6Y/STMicroelectronics/view-part/?welcome=home&ref=eda) | [Datasheet](https://www.snapeda.com/parts/USBLC6-2SC6Y/STMicroelectronics/datasheet/) |
| W25Q512JVEIQ | [Model](https://www.snapeda.com/parts/W25Q512JVEIQ/Winbond+Electronics/view-part/?ref=eda) | [Datasheet](https://www.winbond.com/resource-files/W25Q512JV%20SPI%20RevB%2006252019%20KMS.pdf) |
| XC6220A331MR-G | [Model](https://componentsearchengine.com/part-view/XC6220A331MR-G/Torex) | [Datasheet](https://product.torexsemi.com/system/files/series/xc6220.pdf) |
## Detailed Description of Hardware Features

### 1. Microcontroller – ESP32-C6

- **Processor**: 32-bit RISC-V, up to 160MHz clock speed.

- **Memory**: 512KB internal SRAM and 8MB external flash (W25Q512JVEIQ).

- **Connectivity**: Wi-Fi 6 (802.11ax), Bluetooth 5 (LE), USB 2.0 (full-speed).

- **Peripherals**: SPI, I²C, UART, multiple GPIOs.

- **Power Consumption**: Supports low-power modes (sleep, deep sleep).

---

### 2. Environmental Sensor – BME688

- **Measured Parameters**: Temperature, Humidity, Pressure, and Air Quality (VOC/eCO₂).

- **Interface**: I²C at 400kHz (SDA and SCL).

- **Power Consumption**: Very low (~2.1µA in standby, up to a few mA during active measurement).

---

### 3. E-Paper Display (7.5 inch)

- **Model**: Waveshare (or equivalent) with 800×480 resolution.

- **Interface**: 4-wire SPI + control signals (CS, DC, RST, BUSY).

- **Power Consumption**: Very low in static mode (after refresh); requires higher current during refresh (~15–25mA depending on update mode).

---

### 4. Battery and Power Management

- **Battery**: 2500mAh Li-Po (3.7V nominal).

- **Charging IC**: MCP73831 (Microchip) – Li-Po charging via USB-C (up to 1A).

- **Fuel Gauge**: MAX17048 – monitors charge level, voltage, and battery status (I²C).

- **LDO**: XC6220A331MR-G (example) or equivalent, providing a stable 3.3V to the microcontroller and peripherals.

---

### 5. USB-C Port

- **Function**: Battery charging + Data transfer (USB 2.0 full-speed).

- **Protections**: ESD (USBLC6-2SC6Y) + termination resistors.

- **Possibilities**: Firmware updates via USB (bootloader + external tool) or directly via OTA over Wi-Fi.

---

### 6. Buttons (3x Tactile Switches)

- **Type**: Tactile switch (Panasonic or equivalent).

- **Functions**: Menu navigation, option selection, page turn, etc.

- **Connection**: Each button is connected to an ESP32-C6 GPIO, using a debounce circuit (resistor and capacitor) or debounce handled in firmware.

---

### 7. Qwiic Connector (I²C)

- Standard 4-pin connector: VCC, GND, SDA, SCL.

- Allows easy connection of additional I²C sensors or modules (expansion, testing, fast prototyping).

---

### 8. SD Memory Card Connector (112A-TAAR-R03)

- **Function**: External storage for e-books, logs, or firmware updates.

- **Interface**: Can be configured as SD (1-bit / 4-bit) or SPI, depending on firmware configuration.

---

### 9. RTC – DS3231

- **Function**: Provides accurate real-time clock functionality.

- **Interface**: I²C (shared with BME688 and MAX17048).

- **Backup**: Supercapacitor or secondary battery to maintain timekeeping when main power is off.

---

### 10. Additional Memory

- **W25Q512JVEIQ** (External Flash) – connected to ESP32-C6 via dedicated SPI (quad SPI).

  - Used to store firmware and large data (e.g., e-books).


## Power Consumption Summary
| Component              | Active (mA) | Sleep (mA) | Notes                             |
|-----------------------|-------------|------------|-----------------------------------|
| ESP32-C6          | ~80–100     | ~0.02      | Depends on Wi-Fi & sleep mode     |
| E-Paper Display   | ~26         | ~0.01      | Only during refresh               |
| BME688 Sensor     | ~2.1        | ~0.15      | Sleep mode available              |
| RTC DS3231        | ~0.2        | ~0.2       | Constant low power                |
| MicroSD Card      | ~30–100     | ~0.2       | Depends on access frequency       |
| W25Q512JVEIQ Flash| ~10–20      | ~0.01      | During SPI read/write             |

## ESP32-C6 Pin Mapping

| ESP32-C6 Pin | Component / Signal                  | Why?                                                                  |
|--------------|-------------------------------------|-----------------------------------------------------------------------|
| GPIO1        | I²C SDA (BME688, MAX17048, DS3231, Qwiic) | Shared I²C line – saves pins and allows easy expansion               |
| GPIO2        | I²C SCL (BME688, MAX17048, DS3231, Qwiic) | I²C clock line for all sensors and Qwiic extensions                  |
| GPIO5        | SPI MISO (E-Paper, External Flash)  | Common SPI data input line                                            |
| GPIO6        | SPI MOSI (E-Paper, External Flash)  | Data output line to e-paper and flash                                |
| GPIO7        | SPI CLK                             | Clock signal for the SPI bus                                          |
| GPIO8        | E-Paper CS                          | Selects the display on the SPI bus                                   |
| GPIO9        | E-Paper DC (Data/Command)           | Switches between command and data for the e-paper                    |
| GPIO10       | E-Paper RST                         | Hardware reset for the e-paper display                               |
| GPIO11       | E-Paper BUSY                        | Status pin (busy/free) from the display                              |
| GPIO12       | Button #1                           | Digital input for page forward navigation                            |
| GPIO13       | Button #2                           | Digital input for page backward navigation                           |
| GPIO14       | Button #3                           | Digital input for selection/option                                   |
| GPIO15       | MAX17048 ALERT (optional)           | Low battery level alert pin                                          |
| GPIO16       | USB D+ (internal to USB PHY)        | USB 2.0 line (fixed on ESP32-C6)                                     |
| GPIO17       | USB D- (internal to USB PHY)        | USB 2.0 line (fixed on ESP32-C6)                                     |
| GPIO18       | Status LED (optional)               | Indicator for Wi-Fi activity, charging, notifications                |
| GPIO19       | SD Card CS                          | Chip select for the microSD card (SPI)                               |
| GPIO20       | SD Card MISO                        | Data read from microSD card                                          |
| GPIO21       | SD Card MOSI                        | Data write to microSD card                                           |
| GPIO4        | SD Card CLK                         | Clock signal for the microSD card (SPI)                              |
